"use strict";(self.webpackChunkwpgravitybundle=self.webpackChunkwpgravitybundle||[]).push([[967],{967:(e,a,n)=>{n.r(a),n.d(a,{default:()=>d});var r=n(893),t=n(294),l=n(887),o=function(){return o=Object.assign||function(e){for(var a,n=1,r=arguments.length;n<r;n++)for(var t in a=arguments[n])Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t]);return e},o.apply(this,arguments)};const d=function(e){var a,n,d=e.field,i=e.validationRules,c=d.id,u=d.type,s=d.formId,p=d.label,v=d.cssClass,f=d.isRequired,y=d.placeholder,m=d.size,h="".concat(u).concat(c,"Value"),g="field_".concat(s,"_").concat(c),F=null==m?"":"".concat(m.toLowerCase()),b=null==v?"":"".concat(v),w=null==y?"":"".concat(y.toLowerCase()),j="".concat(F," ").concat(b),x=(0,l.Gc)(),C=x.state,M=x.dispatch,R=null==i?void 0:i.find((function(e){return e.id===c})),k=C.errors.find((function(e){return e.name.toString()===h}));return(0,t.useEffect)((function(){var e,a;if(null!=f&&f)return 0===(null===(a=null===(e=C.formData)||void 0===e?void 0:e[h])||void 0===a?void 0:a.length)?M({type:l.MF.AddRequiredField,payload:h}):void M({type:l.MF.RemoveRequiredField,payload:h})}),[null===(a=C.formData)||void 0===a?void 0:a[h]]),(0,r.jsxs)("div",o({className:j},{children:[(0,r.jsx)("label",o({htmlFor:g},{children:p})),(0,r.jsx)("textarea",{name:g,id:g,required:f,onChange:function(e){var a;e.preventDefault();var n=e.currentTarget.value;return function(e){var a=null!=R?R.regex:/[a-z]+/g;null!=f&&f&&0===e.length?M({type:l.MF.AddError,payload:{name:h,message:"Field cannot be empty"}}):a.test(e)?M({type:l.MF.RemoveError,payload:h}):M({type:l.MF.AddError,payload:{name:h,message:"Invalid characters."}})}(n),M({type:l.MF.Update,payload:(a={},a[h]=n,a)})},placeholder:w,defaultValue:null===(n=C.formData)||void 0===n?void 0:n[h]}),(0,r.jsx)("p",o({className:"error-message"},{children:null==k?void 0:k.message}))]}))}}}]);